<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Employee Retention Prediction</title>
  <style>
body {
  background-color: #f4f6ff;
  font-family: Arial, sans-serif;
}

.container {
  width: 420px;
  margin: 40px auto;
  background: white;
  border-radius: 15px;
  padding: 30px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

h2, h3 {
  text-align: center;
  color: #003366;
  margin-bottom: 15px;
}

label {
  font-weight: bold;
  display: block;
  margin-top: 10px;
}

select, input {
  width: 100%;
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 8px;
  margin-top: 5px;
}

button {
  width: 100%;
  background-color: #003366;
  color: white;
  padding: 10px;
  border: none;
  border-radius: 8px;
  margin-top: 15px;
  cursor: pointer;
}

button:hover {
  background-color: #0055aa;
}

#result {
  margin-top: 15px;
  text-align: center;
  font-weight: bold;
  color: #003366;
}

img {
  width: 100%;
  margin-top: 20px;
  border-radius: 10px;
}
  </style>
</head>
<body>
  <div class="container">
    <h2>Employee Retention Prediction</h2>

    <form id="predictionForm">
      <label>Education Level:</label>
      <select id="education_level">
        <option>Primary School</option>
        <option>High School</option>
        <option>Graduate</option>
        <option>Masters</option>
        <option>Phd</option>
        <option>Other</option>
      </select>

      <label>Experience (Years):</label>
      <select id="experience">
        <option><1</option><option>1</option><option>2</option><option>3</option>
        <option>4</option><option>5</option><option>6</option><option>7</option>
        <option>8</option><option>9</option><option>10</option><option>11</option>
        <option>12</option><option>>20</option>
      </select>

      <label>Company Size:</label>
      <select id="company_size">
        <option><10</option><option>10-49</option><option>50-99</option><option>100-499</option>
        <option>500-999</option><option>1000-4999</option><option>5000-9999</option><option>10000+</option>
      </select>

      <label>Last New Job (Years Ago):</label>
      <select id="last_new_job">
        <option>1</option><option>2</option><option>3</option><option>4</option><option>>4</option><option>never</option>
      </select>

      <label>Relevant Experience:</label>
      <select id="relevent_experience">
        <option>Has relevent experience</option>
        <option>No relevent experience</option>
      </select>

      <label>Training Hours:</label>
      <input type="number" id="training_hours" min="0" placeholder="Enter hours">

      <label>City Development Index:</label>
      <input type="number" id="city_development_index" step="0.01" min="0.4" max="0.95" placeholder="0.8">

      <button type="button" onclick="predict()">Predict</button>
    </form>

    <div id="result"></div>

    <h3>Model Accuracy Comparison</h3>
    <img src="/static/model_accuracy.png" alt="Accuracy Chart">
  </div>

  <script>
    async function predict() {
      const data = {
        education_level: document.getElementById('education_level').value,
        experience: document.getElementById('experience').value,
        company_size: document.getElementById('company_size').value,
        last_new_job: document.getElementById('last_new_job').value,
        relevent_experience: document.getElementById('relevent_experience').value,
        training_hours: document.getElementById('training_hours').value,
        city_development_index: document.getElementById('city_development_index').value
      };

      const res = await fetch('/predict', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify(data)
      });

      const result = await res.json();
      document.getElementById('result').innerText = result.prediction;
    }
  </script>
</body>
</html>
